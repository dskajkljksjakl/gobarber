{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"../ReanimatedModule","data":{"isAsync":false}},{"name":"./AnimatedNode","data":{"isAsync":false}},{"name":"./AnimatedValue","data":{"isAsync":false}},{"name":"./AnimatedAlways","data":{"isAsync":false}},{"name":"fbjs/lib/invariant","data":{"isAsync":false}},{"name":"./createEventObjectProxyPolyfill","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createAnimatedEvent = createAnimatedEvent;\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/inherits\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[6], \"react-native\");\n\n  var _ReanimatedModule = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"../ReanimatedModule\"));\n\n  var _AnimatedNode2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"./AnimatedNode\"));\n\n  var _AnimatedValue = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[9], \"./AnimatedValue\"));\n\n  var _AnimatedAlways = _$$_REQUIRE(_dependencyMap[10], \"./AnimatedAlways\");\n\n  var _invariant = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[11], \"fbjs/lib/invariant\"));\n\n  var _createEventObjectProxyPolyfill = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[12], \"./createEventObjectProxyPolyfill\"));\n\n  function sanitizeArgMapping(argMapping) {\n    var eventMappings = [];\n    var alwaysNodes = [];\n\n    var traverse = function traverse(value, path) {\n      if (value instanceof _AnimatedValue.default) {\n        eventMappings.push(path.concat(value.__nodeID));\n      } else if (typeof value === 'object' && value.__val) {\n        eventMappings.push(path.concat(value.__val.__nodeID));\n      } else if (typeof value === 'function') {\n        var node = new _AnimatedValue.default(0);\n        alwaysNodes.push((0, _AnimatedAlways.createAnimatedAlways)(value(node)));\n        eventMappings.push(path.concat(node.__nodeID));\n      } else if (typeof value === 'object') {\n        for (var key in value) {\n          traverse(value[key], path.concat(key));\n        }\n      }\n    };\n\n    (0, _invariant.default)(argMapping[0] && argMapping[0].nativeEvent, 'Native driven events only support animated values contained inside `nativeEvent`.');\n    var ev = argMapping[0].nativeEvent;\n\n    if (typeof ev === 'object') {\n      traverse(ev, []);\n    } else if (typeof ev === 'function') {\n      var proxyHandler = {\n        get: function get(target, name) {\n          if (name === '__isProxy') {\n            return true;\n          }\n\n          if (!target[name] && name !== '__val') {\n            target[name] = new Proxy({}, proxyHandler);\n          }\n\n          return target[name];\n        },\n        set: function set(target, prop, value) {\n          if (prop === '__val') {\n            target[prop] = value;\n          }\n        }\n      };\n      var proxy = typeof Proxy === 'function' ? new Proxy({}, proxyHandler) : (0, _createEventObjectProxyPolyfill.default)();\n      alwaysNodes.push((0, _AnimatedAlways.createAnimatedAlways)(ev(proxy)));\n      traverse(proxy, []);\n    }\n\n    return {\n      eventMappings: eventMappings,\n      alwaysNodes: alwaysNodes\n    };\n  }\n\n  var AnimatedEvent = function (_AnimatedNode) {\n    (0, _inherits2.default)(AnimatedEvent, _AnimatedNode);\n\n    function AnimatedEvent(argMapping) {\n      var _this;\n\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      (0, _classCallCheck2.default)(this, AnimatedEvent);\n\n      var _sanitizeArgMapping = sanitizeArgMapping(argMapping),\n          eventMappings = _sanitizeArgMapping.eventMappings,\n          alwaysNodes = _sanitizeArgMapping.alwaysNodes;\n\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(AnimatedEvent).call(this, {\n        type: 'event',\n        argMapping: eventMappings\n      }));\n      _this.__isNative = true;\n      _this._alwaysNodes = alwaysNodes;\n      return _this;\n    }\n\n    (0, _createClass2.default)(AnimatedEvent, [{\n      key: \"attachEvent\",\n      value: function attachEvent(viewRef, eventName) {\n        for (var i = 0; i < this._alwaysNodes.length; i++) {\n          this._alwaysNodes[i].__attach();\n        }\n\n        this.__attach();\n\n        var viewTag = (0, _reactNative.findNodeHandle)(viewRef);\n\n        _ReanimatedModule.default.attachEvent(viewTag, eventName, this.__nodeID);\n      }\n    }, {\n      key: \"detachEvent\",\n      value: function detachEvent(viewRef, eventName) {\n        for (var i = 0; i < this._alwaysNodes.length; i++) {\n          this._alwaysNodes[i].isNativelyInitialized() && this._alwaysNodes[i].__detach();\n        }\n\n        var viewTag = (0, _reactNative.findNodeHandle)(viewRef);\n\n        _ReanimatedModule.default.detachEvent(viewTag, eventName, this.__nodeID);\n\n        this.__detach();\n      }\n    }]);\n    return AnimatedEvent;\n  }(_AnimatedNode2.default);\n\n  exports.default = AnimatedEvent;\n\n  function createAnimatedEvent(argMapping, config) {\n    return new AnimatedEvent(argMapping, config);\n  }\n});","map":[[20,0,1,0],[22,0,2,0],[24,0,4,0],[26,0,5,0],[28,0,6,0],[30,0,8,0],[32,0,9,0],[34,0,11,0],[34,11,11,9,"sanitizeArgMapping"],[34,29,11,0],[34,30,11,28,"argMapping"],[34,40,11,0],[34,42,11,40],[35,0,14,2],[35,8,14,8,"eventMappings"],[35,21,14,21],[35,24,14,24],[35,26,14,2],[36,0,15,2],[36,8,15,8,"alwaysNodes"],[36,19,15,19],[36,22,15,22],[36,24,15,2],[38,0,17,2],[38,8,17,8,"traverse"],[38,16,17,16],[38,19,17,19],[38,28,17,8,"traverse"],[38,36,17,19],[38,37,17,20,"value"],[38,42,17,19],[38,44,17,27,"path"],[38,48,17,19],[38,50,17,36],[39,0,18,4],[39,10,18,8,"value"],[39,15,18,13],[39,27,18,25,"InternalAnimatedValue"],[39,49,18,4],[39,51,18,48],[40,0,19,6,"eventMappings"],[40,8,19,6,"eventMappings"],[40,21,19,19],[40,22,19,20,"push"],[40,26,19,6],[40,27,19,25,"path"],[40,31,19,29],[40,32,19,30,"concat"],[40,38,19,25],[40,39,19,37,"value"],[40,44,19,42],[40,45,19,43,"__nodeID"],[40,53,19,25],[40,54,19,6],[41,0,20,5],[41,7,18,4],[41,13,20,11],[41,17,20,15],[41,24,20,22,"value"],[41,29,20,15],[41,34,20,32],[41,42,20,15],[41,46,20,44,"value"],[41,51,20,49],[41,52,20,50,"__val"],[41,57,20,11],[41,59,20,57],[42,0,21,6,"eventMappings"],[42,8,21,6,"eventMappings"],[42,21,21,19],[42,22,21,20,"push"],[42,26,21,6],[42,27,21,25,"path"],[42,31,21,29],[42,32,21,30,"concat"],[42,38,21,25],[42,39,21,37,"value"],[42,44,21,42],[42,45,21,43,"__val"],[42,50,21,37],[42,51,21,49,"__nodeID"],[42,59,21,25],[42,60,21,6],[43,0,22,5],[43,7,20,11],[43,13,22,11],[43,17,22,15],[43,24,22,22,"value"],[43,29,22,15],[43,34,22,32],[43,44,22,11],[43,46,22,44],[44,0,23,6],[44,12,23,12,"node"],[44,16,23,16],[44,19,23,19],[44,23,23,23,"InternalAnimatedValue"],[44,45,23,19],[44,46,23,45],[44,47,23,19],[44,48,23,6],[45,0,24,6,"alwaysNodes"],[45,8,24,6,"alwaysNodes"],[45,19,24,17],[45,20,24,18,"push"],[45,24,24,6],[45,25,24,23],[45,67,24,44,"value"],[45,72,24,49],[45,73,24,50,"node"],[45,77,24,49],[45,78,24,23],[45,79,24,6],[46,0,25,6,"eventMappings"],[46,8,25,6,"eventMappings"],[46,21,25,19],[46,22,25,20,"push"],[46,26,25,6],[46,27,25,25,"path"],[46,31,25,29],[46,32,25,30,"concat"],[46,38,25,25],[46,39,25,37,"node"],[46,43,25,41],[46,44,25,42,"__nodeID"],[46,52,25,25],[46,53,25,6],[47,0,26,5],[47,7,22,11],[47,13,26,11],[47,17,26,15],[47,24,26,22,"value"],[47,29,26,15],[47,34,26,32],[47,42,26,11],[47,44,26,42],[48,0,27,6],[48,13,27,11],[48,17,27,17,"key"],[48,20,27,6],[48,24,27,24,"value"],[48,29,27,6],[48,31,27,31],[49,0,28,8,"traverse"],[49,10,28,8,"traverse"],[49,18,28,16],[49,19,28,17,"value"],[49,24,28,22],[49,25,28,23,"key"],[49,28,28,22],[49,29,28,16],[49,31,28,29,"path"],[49,35,28,33],[49,36,28,34,"concat"],[49,42,28,29],[49,43,28,41,"key"],[49,46,28,29],[49,47,28,16],[49,48,28,8],[50,0,29,7],[51,0,30,5],[52,0,31,3],[52,5,17,2],[54,0,33,2],[54,28,34,4,"argMapping"],[54,38,34,14],[54,39,34,15],[54,40,34,14],[54,41,34,4],[54,45,34,21,"argMapping"],[54,55,34,31],[54,56,34,32],[54,57,34,31],[54,58,34,21],[54,59,34,35,"nativeEvent"],[54,70,33,2],[54,72,35,4],[54,155,33,2],[55,0,39,2],[55,8,39,8,"ev"],[55,10,39,10],[55,13,39,13,"argMapping"],[55,23,39,23],[55,24,39,24],[55,25,39,23],[55,26,39,13],[55,27,39,27,"nativeEvent"],[55,38,39,2],[57,0,40,2],[57,8,40,6],[57,15,40,13,"ev"],[57,17,40,6],[57,22,40,20],[57,30,40,2],[57,32,40,30],[58,0,41,4,"traverse"],[58,6,41,4,"traverse"],[58,14,41,12],[58,15,41,13,"ev"],[58,17,41,12],[58,19,41,17],[58,21,41,12],[58,22,41,4],[59,0,42,3],[59,5,40,2],[59,11,42,9],[59,15,42,13],[59,22,42,20,"ev"],[59,24,42,13],[59,29,42,27],[59,39,42,9],[59,41,42,39],[60,0,43,4],[60,10,43,10,"proxyHandler"],[60,22,43,22],[60,25,43,25],[61,0,44,6,"get"],[61,8,44,6,"get"],[61,11,44,9],[61,13,44,11],[61,26,44,20,"target"],[61,32,44,11],[61,34,44,28,"name"],[61,38,44,11],[61,40,44,34],[62,0,45,8],[62,14,45,12,"name"],[62,18,45,16],[62,23,45,21],[62,34,45,8],[62,36,45,34],[63,0,46,10],[63,19,46,17],[63,23,46,10],[64,0,47,9],[66,0,48,8],[66,14,48,12],[66,15,48,13,"target"],[66,21,48,19],[66,22,48,20,"name"],[66,26,48,19],[66,27,48,12],[66,31,48,29,"name"],[66,35,48,33],[66,40,48,38],[66,47,48,8],[66,49,48,47],[67,0,49,10,"target"],[67,12,49,10,"target"],[67,18,49,16],[67,19,49,17,"name"],[67,23,49,16],[67,24,49,10],[67,27,49,25],[67,31,49,29,"Proxy"],[67,36,49,25],[67,37,49,35],[67,39,49,25],[67,41,49,39,"proxyHandler"],[67,53,49,25],[67,54,49,10],[68,0,50,9],[70,0,51,8],[70,17,51,15,"target"],[70,23,51,21],[70,24,51,22,"name"],[70,28,51,21],[70,29,51,8],[71,0,52,7],[71,9,43,25],[72,0,53,6,"set"],[72,8,53,6,"set"],[72,11,53,9],[72,13,53,11],[72,26,53,20,"target"],[72,32,53,11],[72,34,53,28,"prop"],[72,38,53,11],[72,40,53,34,"value"],[72,45,53,11],[72,47,53,41],[73,0,54,8],[73,14,54,12,"prop"],[73,18,54,16],[73,23,54,21],[73,30,54,8],[73,32,54,30],[74,0,55,10,"target"],[74,12,55,10,"target"],[74,18,55,16],[74,19,55,17,"prop"],[74,23,55,16],[74,24,55,10],[74,27,55,25,"value"],[74,32,55,10],[75,0,56,9],[76,0,57,7],[77,0,43,25],[77,7,43,4],[78,0,60,4],[78,10,60,10,"proxy"],[78,15,60,15],[78,18,61,6],[78,25,61,13,"Proxy"],[78,30,61,6],[78,35,61,23],[78,45,61,6],[78,48,62,10],[78,52,62,14,"Proxy"],[78,57,62,10],[78,58,62,20],[78,60,62,10],[78,62,62,24,"proxyHandler"],[78,74,62,10],[78,75,61,6],[78,78,63,10],[78,124,60,4],[79,0,64,4,"alwaysNodes"],[79,6,64,4,"alwaysNodes"],[79,17,64,15],[79,18,64,16,"push"],[79,22,64,4],[79,23,64,21],[79,65,64,42,"ev"],[79,67,64,44],[79,68,64,45,"proxy"],[79,73,64,44],[79,74,64,21],[79,75,64,4],[80,0,65,4,"traverse"],[80,6,65,4,"traverse"],[80,14,65,12],[80,15,65,13,"proxy"],[80,20,65,12],[80,22,65,20],[80,24,65,12],[80,25,65,4],[81,0,66,3],[83,0,68,2],[83,11,68,9],[84,0,68,11,"eventMappings"],[84,6,68,11,"eventMappings"],[84,19,68,24],[84,21,68,11,"eventMappings"],[84,34,68,9],[85,0,68,26,"alwaysNodes"],[85,6,68,26,"alwaysNodes"],[85,17,68,37],[85,19,68,26,"alwaysNodes"],[86,0,68,9],[86,5,68,2],[87,0,69,1],[89,6,71,21,"AnimatedEvent"],[89,19],[92,0,72,2],[92,27,72,14,"argMapping"],[92,37,72,2],[92,39,72,39],[93,0,72,39],[95,0,72,39],[95,10,72,26,"config"],[95,16,72,39],[95,87,72,35],[95,89,72,39],[96,0,72,39],[98,0,72,39],[98,32,73,43,"sanitizeArgMapping"],[98,50,73,61],[98,51,73,62,"argMapping"],[98,61,73,61],[98,62,72,39],[99,0,72,39],[99,10,73,12,"eventMappings"],[99,23,72,39],[99,46,73,12,"eventMappings"],[99,59,72,39],[100,0,72,39],[100,10,73,27,"alwaysNodes"],[100,21,72,39],[100,44,73,27,"alwaysNodes"],[100,55,72,39],[102,0,74,4],[102,117,74,10],[103,0,74,12,"type"],[103,8,74,12,"type"],[103,12,74,16],[103,14,74,18],[103,21,74,10],[104,0,74,27,"argMapping"],[104,8,74,27,"argMapping"],[104,18,74,37],[104,20,74,39,"eventMappings"],[105,0,74,10],[105,7,74,4],[106,0,72,39],[106,12,81,2,"__isNative"],[106,22,72,39],[106,25,81,15],[106,29,72,39],[107,0,75,4],[107,12,75,9,"_alwaysNodes"],[107,24,75,4],[107,27,75,24,"alwaysNodes"],[107,38,75,4],[108,0,72,39],[109,0,76,3],[113,34,83,14,"viewRef"],[113,41],[113,43,83,23,"eventName"],[113,52],[113,54,83,34],[114,0,84,4],[114,13,84,9],[114,17,84,13,"i"],[114,18,84,14],[114,21,84,17],[114,22,84,4],[114,24,84,20,"i"],[114,25,84,21],[114,28,84,24],[114,33,84,29,"_alwaysNodes"],[114,45,84,24],[114,46,84,42,"length"],[114,52,84,4],[114,54,84,50,"i"],[114,55,84,51],[114,57,84,4],[114,59,84,55],[115,0,85,6],[115,15,85,11,"_alwaysNodes"],[115,27,85,6],[115,28,85,24,"i"],[115,29,85,6],[115,31,85,27,"__attach"],[115,39,85,6],[116,0,86,5],[118,0,87,4],[118,13,87,9,"__attach"],[118,21,87,4],[120,0,88,4],[120,12,88,10,"viewTag"],[120,19,88,17],[120,22,88,20],[120,55,88,35,"viewRef"],[120,62,88,20],[120,63,88,4],[122,0,89,4,"ReanimatedModule"],[122,34,89,21,"attachEvent"],[122,45,89,4],[122,46,89,33,"viewTag"],[122,53,89,4],[122,55,89,42,"eventName"],[122,64,89,4],[122,66,89,53],[122,71,89,58,"__nodeID"],[122,79,89,4],[123,0,90,3],[126,34,92,14,"viewRef"],[126,41],[126,43,92,23,"eventName"],[126,52],[126,54,92,34],[127,0,93,4],[127,13,93,9],[127,17,93,13,"i"],[127,18,93,14],[127,21,93,17],[127,22,93,4],[127,24,93,20,"i"],[127,25,93,21],[127,28,93,24],[127,33,93,29,"_alwaysNodes"],[127,45,93,24],[127,46,93,42,"length"],[127,52,93,4],[127,54,93,50,"i"],[127,55,93,51],[127,57,93,4],[127,59,93,55],[128,0,94,6],[128,15,94,11,"_alwaysNodes"],[128,27,94,6],[128,28,94,24,"i"],[128,29,94,6],[128,31,94,27,"isNativelyInitialized"],[128,52,94,6],[128,58,95,8],[128,63,95,13,"_alwaysNodes"],[128,75,95,8],[128,76,95,26,"i"],[128,77,95,8],[128,79,95,29,"__detach"],[128,87,95,8],[128,89,94,6],[129,0,96,5],[131,0,97,4],[131,12,97,10,"viewTag"],[131,19,97,17],[131,22,97,20],[131,55,97,35,"viewRef"],[131,62,97,20],[131,63,97,4],[133,0,98,4,"ReanimatedModule"],[133,34,98,21,"detachEvent"],[133,45,98,4],[133,46,98,33,"viewTag"],[133,53,98,4],[133,55,98,42,"eventName"],[133,64,98,4],[133,66,98,53],[133,71,98,58,"__nodeID"],[133,79,98,4],[135,0,99,4],[135,13,99,9,"__detach"],[135,21,99,4],[136,0,100,3],[139,4,71,43,"AnimatedNode"],[139,26],[143,0,103,7],[143,11,103,16,"createAnimatedEvent"],[143,30,103,7],[143,31,103,36,"argMapping"],[143,41,103,7],[143,43,103,48,"config"],[143,49,103,7],[143,51,103,56],[144,0,104,2],[144,11,104,9],[144,15,104,13,"AnimatedEvent"],[144,28,104,9],[144,29,104,27,"argMapping"],[144,39,104,9],[144,41,104,39,"config"],[144,47,104,9],[144,48,104,2],[145,0,105,1]]},"type":"js/module"}]}
{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"redux-saga/effects","data":{"isAsync":false}},{"name":"../../../services/api","data":{"isAsync":false}},{"name":"./actions","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.updateProfile = updateProfile;\n  exports.default = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/toConsumableArray\"));\n\n  var _objectWithoutProperties2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/objectWithoutProperties\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[4], \"react-native\");\n\n  var _effects = _$$_REQUIRE(_dependencyMap[5], \"redux-saga/effects\");\n\n  var _api = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"../../../services/api\"));\n\n  var _actions = _$$_REQUIRE(_dependencyMap[7], \"./actions\");\n\n  var _marked = _regenerator.default.mark(updateProfile);\n\n  function updateProfile(_ref) {\n    var payload, _payload$data, name, email, avatar_id, rest, profile, response;\n\n    return _regenerator.default.wrap(function updateProfile$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            payload = _ref.payload;\n            _context.prev = 1;\n            _payload$data = payload.data, name = _payload$data.name, email = _payload$data.email, avatar_id = _payload$data.avatar_id, rest = (0, _objectWithoutProperties2.default)(_payload$data, [\"name\", \"email\", \"avatar_id\"]);\n            profile = Object.assign.apply(Object, [{\n              name: name,\n              email: email,\n              avatar_id: avatar_id\n            }].concat((0, _toConsumableArray2.default)(rest.oldPassword ? rest : {})));\n            _context.next = 6;\n            return (0, _effects.call)(_api.default.put, 'users', profile);\n\n          case 6:\n            response = _context.sent;\n\n            _reactNative.Alert.alert('Secesso!', 'Perfil atualizado com sucesso');\n\n            _context.next = 10;\n            return (0, _effects.put)((0, _actions.updateProfileSuccess)(response.data));\n\n          case 10:\n            _context.next = 17;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](1);\n\n            _reactNative.Alert.alert('Falha na atualização', 'Houve um erro na atualização do perfil, verifique seus dados');\n\n            _context.next = 17;\n            return (0, _effects.put)((0, _actions.updateProfileFailure)());\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _marked, null, [[1, 12]]);\n  }\n\n  var _default = (0, _effects.all)([(0, _effects.takeLatest)('@user/UPDATE_PROFILE_REQUEST', updateProfile)]);\n\n  exports.default = _default;\n});","map":[[16,0,1,0],[18,0,3,0],[20,0,5,0],[22,0,7,0],[24,42,9,17,"updateProfile"],[24,55],[26,0,9,7],[26,11,9,17,"updateProfile"],[26,24,9,7],[27,0,9,7],[29,0,9,7],[30,0,9,7],[31,0,9,7],[32,0,9,7],[33,0,9,33,"payload"],[33,12,9,33,"payload"],[33,19,9,7],[33,27,9,33,"payload"],[33,34,9,7],[34,0,9,7],[35,0,9,7],[35,28,11,48,"payload"],[35,35,11,55],[35,36,11,56,"data"],[35,40,9,7],[35,42,11,12,"name"],[35,46,9,7],[35,63,11,12,"name"],[35,67,9,7],[35,69,11,18,"email"],[35,74,9,7],[35,91,11,18,"email"],[35,96,9,7],[35,98,11,25,"avatar_id"],[35,107,9,7],[35,124,11,25,"avatar_id"],[35,133,9,7],[35,135,11,39,"rest"],[35,139,9,7],[36,0,13,10,"profile"],[36,12,13,10,"profile"],[36,19,9,7],[36,22,13,20,"Object"],[36,28,13,26],[36,29,13,27,"assign"],[36,35,13,20],[36,42,13,20,"Object"],[36,48,13,26],[36,51,14,6],[37,0,15,8,"name"],[37,14,15,8,"name"],[37,18,15,12],[37,20,15,8,"name"],[37,24,14,6],[38,0,16,8,"email"],[38,14,16,8,"email"],[38,19,16,13],[38,21,16,8,"email"],[38,26,14,6],[39,0,17,8,"avatar_id"],[39,14,17,8,"avatar_id"],[39,23,17,17],[39,25,17,8,"avatar_id"],[40,0,14,6],[40,13,13,26],[40,55,19,10,"rest"],[40,59,19,14],[40,60,19,15,"oldPassword"],[40,71,19,10],[40,74,19,29,"rest"],[40,78,19,10],[40,81,19,36],[40,83,13,26],[40,86,9,7],[41,0,9,7],[42,0,21,21],[42,19,21,27],[42,38,21,32,"api"],[42,51,21,36,"put"],[42,54,21,27],[42,56,21,41],[42,63,21,27],[42,65,21,50,"profile"],[42,72,21,27],[42,73,21,21],[44,0,9,7],[45,0,21,10,"response"],[45,12,21,10,"response"],[45,20,9,7],[47,0,22,4,"Alert"],[47,31,22,10,"alert"],[47,36,22,4],[47,37,22,16],[47,47,22,4],[47,49,22,28],[47,80,22,4],[49,0,9,7],[50,0,24,4],[50,19,24,10],[50,37,24,14],[50,72,24,35,"response"],[50,80,24,43],[50,81,24,44,"data"],[50,85,24,14],[50,86,24,10],[50,87,24,4],[52,0,9,7],[53,0,9,7],[54,0,9,7],[56,0,9,7],[57,0,9,7],[58,0,9,7],[60,0,26,4,"Alert"],[60,31,26,10,"alert"],[60,36,26,4],[60,37,27,6],[60,59,26,4],[60,61,28,6],[60,123,26,4],[62,0,9,7],[63,0,31,4],[63,19,31,10],[63,37,31,14],[63,73,31,10],[63,74,31,4],[65,0,9,7],[66,0,9,7],[67,0,9,7],[68,0,9,7],[69,0,9,7],[70,0,9,7],[71,0,9,7],[73,17,35,15],[73,35,35,19],[73,36,35,20],[73,61,35,31],[73,91,35,20],[73,93,35,63,"updateProfile"],[73,106,35,20],[73,107,35,19],[73,108,35,15],[73,109]]},"type":"js/module"}]}
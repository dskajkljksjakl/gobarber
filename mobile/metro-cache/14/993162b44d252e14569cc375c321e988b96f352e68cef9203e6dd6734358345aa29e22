{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"redux-saga/effects","data":{"isAsync":false}},{"name":"../../../services/api","data":{"isAsync":false}},{"name":"./actions","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.updateProfile = updateProfile;\n  exports.default = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/defineProperty\"));\n\n  var _objectWithoutProperties2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/objectWithoutProperties\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[4], \"react-native\");\n\n  var _effects = _$$_REQUIRE(_dependencyMap[5], \"redux-saga/effects\");\n\n  var _api = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"../../../services/api\"));\n\n  var _actions = _$$_REQUIRE(_dependencyMap[7], \"./actions\");\n\n  var _marked = _regenerator.default.mark(updateProfile);\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function updateProfile(_ref) {\n    var payload, _payload$data, name, email, avatar_id, rest, profile, response;\n\n    return _regenerator.default.wrap(function updateProfile$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            payload = _ref.payload;\n            _context.prev = 1;\n            _payload$data = payload.data, name = _payload$data.name, email = _payload$data.email, avatar_id = _payload$data.avatar_id, rest = (0, _objectWithoutProperties2.default)(_payload$data, [\"name\", \"email\", \"avatar_id\"]);\n            profile = _objectSpread({\n              name: name,\n              email: email,\n              avatar_id: avatar_id\n            }, rest.oldPassword ? rest : {});\n            _context.next = 6;\n            return (0, _effects.call)(_api.default.put, 'users', profile);\n\n          case 6:\n            response = _context.sent;\n\n            _reactNative.Alert.alert('Secesso!', 'Perfil atualizado com sucesso');\n\n            _context.next = 10;\n            return (0, _effects.put)((0, _actions.updateProfileSuccess)(response.data));\n\n          case 10:\n            _context.next = 17;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](1);\n\n            _reactNative.Alert.alert('Falha na atualização', 'Houve um erro na atualização do perfil, verifique seus dados');\n\n            _context.next = 17;\n            return (0, _effects.put)((0, _actions.updateProfileFailure)());\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _marked, null, [[1, 12]]);\n  }\n\n  var _default = (0, _effects.all)([(0, _effects.takeLatest)('@user/UPDATE_PROFILE_REQUEST', updateProfile)]);\n\n  exports.default = _default;\n});","map":[[16,0,1,0],[18,0,3,0],[20,0,5,0],[22,0,7,0],[24,42,9,17,"updateProfile"],[24,55],[30,0,9,7],[30,11,9,17,"updateProfile"],[30,24,9,7],[31,0,9,7],[33,0,9,7],[34,0,9,7],[35,0,9,7],[36,0,9,7],[37,0,9,33,"payload"],[37,12,9,33,"payload"],[37,19,9,7],[37,27,9,33,"payload"],[37,34,9,7],[38,0,9,7],[39,0,9,7],[39,28,11,48,"payload"],[39,35,11,55],[39,36,11,56,"data"],[39,40,9,7],[39,42,11,12,"name"],[39,46,9,7],[39,63,11,12,"name"],[39,67,9,7],[39,69,11,18,"email"],[39,74,9,7],[39,91,11,18,"email"],[39,96,9,7],[39,98,11,25,"avatar_id"],[39,107,9,7],[39,124,11,25,"avatar_id"],[39,133,9,7],[39,135,11,39,"rest"],[39,139,9,7],[40,0,13,10,"profile"],[40,12,13,10,"profile"],[40,19,9,7],[41,0,14,6,"name"],[41,14,14,6,"name"],[41,18,14,10],[41,20,14,6,"name"],[41,24,9,7],[42,0,15,6,"email"],[42,14,15,6,"email"],[42,19,15,11],[42,21,15,6,"email"],[42,26,9,7],[43,0,16,6,"avatar_id"],[43,14,16,6,"avatar_id"],[43,23,16,15],[43,25,16,6,"avatar_id"],[44,0,9,7],[44,15,17,10,"rest"],[44,19,17,14],[44,20,17,15,"oldPassword"],[44,31,17,10],[44,34,17,29,"rest"],[44,38,17,10],[44,41,17,36],[44,43,9,7],[45,0,9,7],[46,0,19,21],[46,19,19,27],[46,38,19,32,"api"],[46,51,19,36,"put"],[46,54,19,27],[46,56,19,41],[46,63,19,27],[46,65,19,50,"profile"],[46,72,19,27],[46,73,19,21],[48,0,9,7],[49,0,19,10,"response"],[49,12,19,10,"response"],[49,20,9,7],[51,0,20,4,"Alert"],[51,31,20,10,"alert"],[51,36,20,4],[51,37,20,16],[51,47,20,4],[51,49,20,28],[51,80,20,4],[53,0,9,7],[54,0,22,4],[54,19,22,10],[54,37,22,14],[54,72,22,35,"response"],[54,80,22,43],[54,81,22,44,"data"],[54,85,22,14],[54,86,22,10],[54,87,22,4],[56,0,9,7],[57,0,9,7],[58,0,9,7],[60,0,9,7],[61,0,9,7],[62,0,9,7],[64,0,24,4,"Alert"],[64,31,24,10,"alert"],[64,36,24,4],[64,37,25,6],[64,59,24,4],[64,61,26,6],[64,123,24,4],[66,0,9,7],[67,0,29,4],[67,19,29,10],[67,37,29,14],[67,73,29,10],[67,74,29,4],[69,0,9,7],[70,0,9,7],[71,0,9,7],[72,0,9,7],[73,0,9,7],[74,0,9,7],[75,0,9,7],[77,17,33,15],[77,35,33,19],[77,36,33,20],[77,61,33,31],[77,91,33,20],[77,93,33,63,"updateProfile"],[77,106,33,20],[77,107,33,19],[77,108,33,15],[77,109]]},"type":"js/module"}]}
{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native-vector-icons/MaterialIcons","data":{"isAsync":false}},{"name":"../../services/api","data":{"isAsync":false}},{"name":"../../components/Background","data":{"isAsync":false}},{"name":"../../components/Appointment","data":{"isAsync":false}},{"name":"./styles","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = Dashboard;\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/defineProperty\"));\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/regenerator\"));\n\n  var _slicedToArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/slicedToArray\"));\n\n  var _react = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[5], \"react\"));\n\n  var _MaterialIcons = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"react-native-vector-icons/MaterialIcons\"));\n\n  var _api = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"../../services/api\"));\n\n  var _Background = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"../../components/Background\"));\n\n  var _Appointment = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[9], \"../../components/Appointment\"));\n\n  var _styles = _$$_REQUIRE(_dependencyMap[10], \"./styles\");\n\n  var _jsxFileName = \"/home/joao/aulas/modulo10/src/pages/Dashboard/index.js\";\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function Dashboard() {\n    var _useState = (0, _react.useState)([]),\n        _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n        appointments = _useState2[0],\n        setAppointments = _useState2[1];\n\n    (0, _react.useEffect)(function () {\n      function loadAppointments() {\n        var response;\n        return _regenerator.default.async(function loadAppointments$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regenerator.default.awrap(_api.default.get('appointments'));\n\n              case 2:\n                response = _context.sent;\n                setAppointments(response.data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        });\n      }\n\n      loadAppointments();\n    }, []);\n\n    function handleCancel(id) {\n      var response;\n      return _regenerator.default.async(function handleCancel$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regenerator.default.awrap(_api.default.delete(\"appointments/\" + id));\n\n            case 2:\n              response = _context2.sent;\n              setAppointments(appointments.map(function (appointment) {\n                return appointment.id === id ? _objectSpread({}, appointment, {\n                  canceled_at: response.data.canceled_at\n                }) : appointment;\n              }));\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    }\n\n    return _react.default.createElement(_Background.default, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      }\n    }, _react.default.createElement(_styles.Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      }\n    }, _react.default.createElement(_styles.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      }\n    }, \"Agendamentos\"), _react.default.createElement(_styles.List, {\n      data: appointments,\n      keyExtractor: function keyExtractor(item) {\n        return String(item.id);\n      },\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _react.default.createElement(_Appointment.default, {\n          onCancel: function onCancel() {\n            return handleCancel(item.id);\n          },\n          data: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      }\n    })));\n  }\n\n  Dashboard.navigationOptions = {\n    tabBarLabel: 'Agendamentos',\n    tabBarIcon: function tabBarIcon(_ref2) {\n      var tintColor = _ref2.tintColor;\n      return _react.default.createElement(_MaterialIcons.default, {\n        name: \"event\",\n        size: 20,\n        color: tintColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        }\n      });\n    }\n  };\n});","map":[[17,0,1,0],[19,0,3,0],[21,0,4,0],[23,0,5,0],[25,0,6,0],[27,0,8,0],[35,0,10,15],[35,11,10,24,"Dashboard"],[35,20,10,15],[35,23,10,36],[36,0,10,36],[36,20,11,42],[36,41,11,51],[36,43,11,42],[36,44,10,36],[37,0,10,36],[38,0,10,36],[38,8,11,9,"appointments"],[38,20,10,36],[39,0,10,36],[39,8,11,23,"setAppointments"],[39,23,10,36],[41,0,13,2],[41,26,13,12],[41,38,13,18],[42,0,14,4],[42,15,14,19,"loadAppointments"],[42,31,14,4],[43,0,14,4],[44,0,14,4],[45,0,14,4],[46,0,14,4],[47,0,14,4],[48,0,14,4],[49,0,14,4],[49,50,15,29,"api"],[49,63,15,33,"get"],[49,66,15,29],[49,67,15,37],[49,81,15,29],[49,82,14,4],[51,0,14,4],[52,0,15,12,"response"],[52,16,15,12,"response"],[52,24,14,4],[53,0,17,6,"setAppointments"],[53,16,17,6,"setAppointments"],[53,31,17,21],[53,32,17,22,"response"],[53,40,17,30],[53,41,17,31,"data"],[53,45,17,21],[53,46,17,6],[55,0,14,4],[56,0,14,4],[57,0,14,4],[58,0,14,4],[59,0,14,4],[60,0,14,4],[61,0,14,4],[63,0,20,4,"loadAppointments"],[63,6,20,4,"loadAppointments"],[63,22,20,20],[64,0,21,3],[64,5,13,2],[64,7,21,5],[64,9,13,2],[66,0,22,2],[66,13,22,17,"handleCancel"],[66,25,22,2],[66,26,22,30,"id"],[66,28,22,2],[67,0,22,2],[68,0,22,2],[69,0,22,2],[70,0,22,2],[71,0,22,2],[72,0,22,2],[73,0,22,2],[73,48,23,27,"api"],[73,61,23,31,"delete"],[73,67,23,27],[73,86,23,54,"id"],[73,88,23,27],[73,89,22,2],[75,0,22,2],[76,0,23,10,"response"],[76,14,23,10,"response"],[76,22,22,2],[77,0,25,4,"setAppointments"],[77,14,25,4,"setAppointments"],[77,29,25,19],[77,30,26,6,"appointments"],[77,42,26,18],[77,43,26,19,"map"],[77,46,26,6],[77,47,26,23],[77,57,26,23,"appointment"],[77,68,26,34],[78,0,26,34],[78,23,27,8,"appointment"],[78,34,27,19],[78,35,27,20,"id"],[78,37,27,8],[78,42,27,27,"id"],[78,44,27,8],[78,65,29,17,"appointment"],[78,76,27,8],[79,0,30,14,"canceled_at"],[79,18,30,14,"canceled_at"],[79,29,30,25],[79,31,30,27,"response"],[79,39,30,35],[79,40,30,36,"data"],[79,44,30,27],[79,45,30,41,"canceled_at"],[80,0,27,8],[80,21,32,12,"appointment"],[80,32,26,34],[81,0,26,34],[81,15,26,6],[81,16,25,19],[81,17,25,4],[83,0,22,2],[84,0,22,2],[85,0,22,2],[86,0,22,2],[87,0,22,2],[88,0,22,2],[89,0,22,2],[91,0,36,2],[91,11,37,4],[91,40,37,5],[91,59,37,4],[92,0,37,4],[93,0,37,4],[94,0,37,4],[95,0,37,4],[96,0,37,4],[96,7,38,6],[96,36,38,7],[96,53,38,6],[97,0,38,6],[98,0,38,6],[99,0,38,6],[100,0,38,6],[101,0,38,6],[101,7,39,8],[101,36,39,9],[101,49,39,8],[102,0,39,8],[103,0,39,8],[104,0,39,8],[105,0,39,8],[106,0,39,8],[106,22,38,6],[106,24,40,8],[106,53,40,9],[106,65,40,8],[107,0,41,10],[107,6,41,10],[107,10,41,14],[107,12,41,16,"appointments"],[107,24,40,8],[108,0,42,10],[108,6,42,10],[108,18,42,22],[108,20,42,24],[108,42,42,24,"item"],[108,46,42,28],[109,0,42,28],[109,15,42,32,"String"],[109,21,42,38],[109,22,42,39,"item"],[109,26,42,43],[109,27,42,44,"id"],[109,29,42,38],[109,30,42,28],[110,0,42,28],[110,7,40,8],[111,0,43,10],[111,6,43,10],[111,16,43,20],[111,18,43,22],[112,0,43,22],[112,12,43,25,"item"],[112,16,43,22],[112,24,43,25,"item"],[112,28,43,22],[113,0,43,22],[113,15,44,12],[113,44,44,13],[113,64,44,12],[114,0,44,25],[114,10,44,25],[114,18,44,33],[114,20,44,35],[115,0,44,35],[115,19,44,41,"handleCancel"],[115,31,44,53],[115,32,44,54,"item"],[115,36,44,58],[115,37,44,59,"id"],[115,39,44,53],[115,40,44,35],[116,0,44,35],[116,11,44,12],[117,0,44,64],[117,10,44,64],[117,14,44,68],[117,16,44,70,"item"],[117,20,44,12],[118,0,44,12],[119,0,44,12],[120,0,44,12],[121,0,44,12],[122,0,44,12],[122,10,43,22],[123,0,43,22],[123,7,40,8],[124,0,40,8],[125,0,40,8],[126,0,40,8],[127,0,40,8],[128,0,40,8],[128,6,38,6],[128,7,37,4],[128,8,36,2],[129,0,50,1],[131,0,52,0,"Dashboard"],[131,2,52,0,"Dashboard"],[131,11,52,9],[131,12,52,10,"navigationOptions"],[131,29,52,0],[131,32,52,30],[132,0,53,2,"tabBarLabel"],[132,4,53,2,"tabBarLabel"],[132,15,53,13],[132,17,53,15],[132,31,52,30],[133,0,54,2,"tabBarIcon"],[133,4,54,2,"tabBarIcon"],[133,14,54,12],[133,16,54,14],[134,0,54,14],[134,10,54,17,"tintColor"],[134,19,54,14],[134,28,54,17,"tintColor"],[134,37,54,14],[135,0,54,14],[135,13,55,4],[135,42,55,5],[135,64,55,4],[136,0,55,10],[136,8,55,10],[136,12,55,14],[136,14,55,15],[136,21,55,4],[137,0,55,23],[137,8,55,23],[137,12,55,27],[137,14,55,29],[137,16,55,4],[138,0,55,33],[138,8,55,33],[138,13,55,38],[138,15,55,40,"tintColor"],[138,24,55,4],[139,0,55,4],[140,0,55,4],[141,0,55,4],[142,0,55,4],[143,0,55,4],[143,8,54,14],[144,0,54,14],[145,0,52,30],[145,3,52,0]]},"type":"js/module"}]}